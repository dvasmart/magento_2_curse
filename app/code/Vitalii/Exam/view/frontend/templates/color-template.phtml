<?php

use Vitalii\Exam\Api\Data\ColorInterface;
use Vitalii\Exam\Block\Colors;

/**
 * @var ColorInterface[] $colors
 * @var Colors $block
 */
$colors = $block->getColors();

?>

<p>
    <?= __("To change number of shown colors go to Admin panel -> Stores -> Settings -> Configuration -> Colors Value
    Table -> Colors Value and set how many colors will be shown on this page"); ?>
</p>

<a href="<?= $block->getUrl('exam_route', ['sort_direction' => $block->getSortDirection()]); ?>">
    <?= __("Sort by color name"); ?>
</a>

<table>

    <tr>
        <th class="entity-id">
            <?= __("Entity Id"); ?>
        </th>
        <th class="color-name">
            <?= __("Color Name"); ?>
        </th>
        <th class="description">
            <?= __("Description"); ?>
        </th>
        <th class="created-at">
            <?= __("Created At"); ?>
        </th>
        <th class="link">
            <?= __("Link"); ?>
        </th>
    </tr>

    <?php if (!empty($colors)): ?>

        <?php foreach ($colors as $color): ?>
            <tr>
                <td>
                    <?= $color->getId(); ?>
                </td>
                <td>
                    <?= $color->getColorName(); ?>
                </td>
                <td>
                    <?= $color->getDescription(); ?>
                </td>
                <td>
                    <?= $color->getCreatedAt(); ?>
                </td>
                <td>
                    <a  href="<?= $block->getFruitsUrl($color->getColorName()); ?>">
                        <?= __('See Fruits with %1 color', $color->getColorName()); ?>
                    </a>
                </td>
            </tr>
        <?php endforeach; ?>

    <?php else: ?>
        <div class="message">
            <h1 class="message-error error message">
                <?= __("There are no colors shown on this page."); ?>
            </h1>
        </div>

    <?php endif; ?>

</table>
